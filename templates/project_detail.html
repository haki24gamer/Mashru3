{% extends "project.html" %}

{% block title %}Mashru3: {{ project.name }}{% endblock %}

{% block content %}
<div class="container-fluid" style="padding-right: 0; margin-right: 0;">
    <h1 class="mt-4">{{ project.name }}</h1>
    
    <ul class="nav nav-tabs" id="projectTab" role="tablist" style="list-style-type: none; padding: 0; display: flex; justify-content: flex-start; margin-top: 20px; border-bottom: 1px solid #dee2e6;">
        <li class="nav-item {% if request.args.get('tab') == 'overview' or not request.args.get('tab') %}active{% endif %}" style="margin-right: 10px;">
            <a class="nav-link {% if request.args.get('tab') == 'overview' or not request.args.get('tab') %}active{% endif %}" id="overview-tab" href="{{ url_for('project_detail', project_id=project.project_id, tab='overview') }}" role="tab" aria-controls="overview" aria-selected="true" style="padding: 10px 15px; color: {% if request.args.get('tab') == 'overview' or not request.args.get('tab') %}#007bff{% else %}#6c757d{% endif %}; font-weight: {% if request.args.get('tab') == 'overview' or not request.args.get('tab') %}500{% else %}400{% endif %}; border-radius: 4px 4px 0 0; text-decoration: none; position: relative; transition: color 0.2s ease-in-out;">Aperçu
                {% if request.args.get('tab') == 'overview' or not request.args.get('tab') %}
                <div style="position: absolute; bottom: -1px; left: 0; right: 0; height: 3px; background-color: #007bff;"></div>
                {% endif %}
            </a>
        </li>
        <li class="nav-item {% if request.args.get('tab') == 'timeline' %}active{% endif %}" style="margin-right: 10px;">
            <a class="nav-link {% if request.args.get('tab') == 'timeline' %}active{% endif %}" id="timeline-tab" href="{{ url_for('project_detail', project_id=project.project_id, tab='timeline') }}" role="tab" aria-controls="timeline" aria-selected="false" style="padding: 10px 15px; color: {% if request.args.get('tab') == 'timeline' %}#007bff{% else %}#6c757d{% endif %}; font-weight: {% if request.args.get('tab') == 'timeline' %}500{% else %}400{% endif %}; border-radius: 4px 4px 0 0; text-decoration: none; position: relative; transition: color 0.2s ease-in-out;">Chronologie
                {% if request.args.get('tab') == 'timeline' %}
                <div style="position: absolute; bottom: -1px; left: 0; right: 0; height: 3px; background-color: #007bff;"></div>
                {% endif %}
            </a>
        </li>
        <li class="nav-item {% if request.args.get('tab') == 'tasks' %}active{% endif %}" style="margin-right: 10px;">
            <a class="nav-link {% if request.args.get('tab') == 'tasks' %}active{% endif %}" id="tasks-tab" href="{{ url_for('project_detail', project_id=project.project_id, tab='tasks') }}" role="tab" aria-controls="tasks" aria-selected="false" style="padding: 10px 15px; color: {% if request.args.get('tab') == 'tasks' %}#007bff{% else %}#6c757d{% endif %}; font-weight: {% if request.args.get('tab') == 'tasks' %}500{% else %}400{% endif %}; border-radius: 4px 4px 0 0; text-decoration: none; position: relative; transition: color 0.2s ease-in-out;">Tâches
                {% if request.args.get('tab') == 'tasks' %}
                <div style="position: absolute; bottom: -1px; left: 0; right: 0; height: 3px; background-color: #007bff;"></div>
                {% endif %}
            </a>
        </li>
        <li class="nav-item {% if request.args.get('tab') == 'team' %}active{% endif %}" style="margin-right: 10px;">
            <a class="nav-link {% if request.args.get('tab') == 'team' %}active{% endif %}" id="team-tab" href="{{ url_for('project_detail', project_id=project.project_id, tab='team') }}" role="tab" aria-controls="team" aria-selected="false" style="padding: 10px 15px; color: {% if request.args.get('tab') == 'team' %}#007bff{% else %}#6c757d{% endif %}; font-weight: {% if request.args.get('tab') == 'team' %}500{% else %}400{% endif %}; border-radius: 4px 4px 0 0; text-decoration: none; position: relative; transition: color 0.2s ease-in-out;">Équipe
                {% if request.args.get('tab') == 'team' %}
                <div style="position: absolute; bottom: -1px; left: 0; right: 0; height: 3px; background-color: #007bff;"></div>
                {% endif %}
            </a>
        </li>
        {% if is_admin %}
        <li class="nav-item {% if request.args.get('tab') == 'admin' %}active{% endif %}" style="margin-right: 10px;">
            <a class="nav-link {% if request.args.get('tab') == 'admin' %}active{% endif %}" id="admin-tab" href="{{ url_for('project_detail', project_id=project.project_id, tab='admin') }}" role="tab" aria-controls="admin" aria-selected="false" style="padding: 10px 15px; color: {% if request.args.get('tab') == 'admin' %}#007bff{% else %}#6c757d{% endif %}; font-weight: {% if request.args.get('tab') == 'admin' %}500{% else %}400{% endif %}; border-radius: 4px 4px 0 0; text-decoration: none; position: relative; transition: color 0.2s ease-in-out;">Admin
                {% if request.args.get('tab') == 'admin' %}
                <div style="position: absolute; bottom: -1px; left: 0; right: 0; height: 3px; background-color: #007bff;"></div>
                {% endif %}
            </a>
        </li>
        {% endif %}
    </ul>
    <div class="tab-content" id="projectTabContent" style="padding-top: 20px;">
        {% if request.args.get('tab') == 'overview' or not request.args.get('tab') %}
            {% include 'project_overview.html' %}
        {% elif request.args.get('tab') == 'timeline' %}
            {% include 'project_timeline.html' %}
        {% elif request.args.get('tab') == 'tasks' %}
            {% include 'project_tasks.html' %}
        {% elif request.args.get('tab') == 'team' %}
            {% include 'project_team.html' %}
        {% elif request.args.get('tab') == 'admin' %}
            {% include 'project_admin.html' %}
        {% endif %}
    </div>
</div>
{% endblock %}
