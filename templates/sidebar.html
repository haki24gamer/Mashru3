<nav id="sidebar" class="sidebar">
    <div class="sidebar-header">
        <h3>Mashru3</h3>
    </div>

    <div class="profile-section">
        <div class="profile-image">
            {% if user_image %}
            <img src="{{ user_image }}" alt="Profile image" class="img-fluid rounded-circle">
            {% else %}
            <div class="profile-placeholder">
                {% if user_first_name is defined and user_first_name %}
                {{ user_first_name[0].upper() }}
                {% else %}
                <i class="fas fa-user"></i>
                {% endif %}
            </div>
            {% endif %}
        </div>
        <div class="profile-name">
            {% if user_first_name is defined %}
            {{ user_first_name }}
            {% else %}
            Utilisateur
            {% endif %}
        </div>
    </div>

    <ul class="list-unstyled components">
        <li class="{% if request.path == '/dashboard' %}active{% endif %}">
            <a href="{{ url_for('dashboard') }}">
                <i class="fas fa-tachometer-alt"></i> Tableau de bord
            </a>
        </li>
        <li class="{% if '/projects' in request.path %}active{% endif %}">
            <a href="{{ url_for('projects') }}">
                <i class="fas fa-project-diagram"></i> Projets
            </a>
        </li>
        <li>
            <a href="#tasksSubmenu" data-toggle="collapse" aria-expanded="false" class="dropdown-toggle">
                <i class="fas fa-tasks"></i> Tâches
            </a>
            <ul class="collapse list-unstyled" id="tasksSubmenu">
                <li>
                    <a href="#"><i class="fas fa-list"></i> Toutes les tâches</a>
                </li>
                <li>
                    <a href="#"><i class="fas fa-hourglass-half"></i> En cours</a>
                </li>
                <li>
                    <a href="#"><i class="fas fa-check-circle"></i> Terminées</a>
                </li>
            </ul>
        </li>
        <li>
            <a href="#">
                <i class="fas fa-users"></i> Équipe
            </a>
        </li>
        <li class="{% if request.path == '/parameters' %}active{% endif %}">
            <a href="{{ url_for('parameters') }}">
                <i class="fas fa-cog"></i> Paramètres
            </a>
        </li>
    </ul>

    <div class="sidebar-footer">
        <a href="{{ url_for('logout') }}">
            <i class="fas fa-sign-out-alt"></i> Déconnexion
        </a>
    </div>
</nav>